<!-- acceso.html Nicole -->
<div class="container" [class.sign-up-mode]="isSignUpMode">
  <!-- Formularios -->
  <div class="forms-container">
    <div class="signin-signup">

      <!-- LOGIN -->
      <form class="sign-in-form form-container"
            [formGroup]="loginForm"
            (ngSubmit)="onLogin()"
            [hidden]="isSignUpMode">
        <h2 class="title">Iniciar sesión</h2>

        <mat-form-field appearance="fill">
          <mat-label>Correo</mat-label>
          <input matInput formControlName="email" />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Contraseña</mat-label>
          <input matInput type="password" formControlName="password" />
        </mat-form-field>

        <button mat-raised-button color="primary" type="submit">Iniciar sesión</button>
      </form>

      <!-- REGISTRO -->
      <form class="sign-up-form form-container"
            [formGroup]="accesoForm"
            (ngSubmit)="onSubmit()"
            [hidden]="!isSignUpMode">
        <h2 class="title">Registro</h2>

        <mat-form-field appearance="fill">
          <mat-label>Nombre</mat-label>
          <input matInput formControlName="nombres" />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>DNI</mat-label>
          <input matInput formControlName="dni" maxlength="12" />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Tipo de usuario</mat-label>
          <mat-select formControlName="rol">
            <mat-option value="ASESOR">Asesor</mat-option>
            <mat-option value="CLIENTE">Cliente</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Correo</mat-label>
          <input matInput formControlName="email" />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Contraseña</mat-label>
          <input matInput type="password" formControlName="password" />
        </mat-form-field>

        <button mat-raised-button color="primary" type="submit">Registrarme</button>
      </form>


    </div>
  </div>

  <!-- Paneles laterales con el “blob” -->
  <div class="panels-container">
    <!-- Panel izquierdo (Registro visible, invitar a Iniciar sesión) -->
    <!-- PANEL IZQUIERDO (se muestra cuando estás en LOGIN) -->
    <div class="panel left-panel">
      <div class="content">

        <h3 *ngIf="!isSignUpMode">¿Eres nuevo?</h3>
        <p *ngIf="!isSignUpMode">Únete a nuestra comunidad y comienza a mejorar tus finanzas hoy.</p>
        <button class="btn transparent" type="button"
                (click)="toggleSignUp()" *ngIf="!isSignUpMode">
          Regístrate
        </button>

      </div>
      <img class="image" src="assets/img/illustration.svg" alt="" />
    </div>

    <!-- PANEL DERECHO (se muestra cuando estás en REGISTRO) -->
    <div class="panel right-panel">
      <div class="content">

        <h3 *ngIf="isSignUpMode">¿Ya tienes cuenta?</h3>
        <p *ngIf="isSignUpMode">Ingresa para seguir gestionando tus finanzas de manera eficiente.</p>
        <button class="btn transparent" type="button"
                (click)="toggleSignIn()" *ngIf="isSignUpMode">
          Iniciar sesión
        </button>

      </div>
      <img class="image" src="assets/img/illustration.svg" alt="" />
    </div>
  </div>
</div>
